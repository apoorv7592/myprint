<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>



<style>
  .inner-addon { 
    position: relative; 
}

/* style icon */
.inner-addon .fa {
  position: absolute;
  padding-top: 8px;
  padding-left: 8px;
  padding-right: 8px;
  pointer-events: none;
}

/* align icon */
.right-addon .fa { right: 0px;}

/* add padding  */
.right-addon input { padding-right: 30px; }

</style>

<script type="text/javascript">

  $(document).ready(function(){
    $('ul.nav.navbar-nav.navbar-right li').each(function(){
      try{
        var idNavigation1 = $(this).attr('id');
        var idDiv1 = idNavigation1.toLowerCase();
        var timeoutNavigationFade;
        $('#'+idNavigation1).bind('mouseover',function(){
          clearTimeout(timeoutNavigationFade);
          $('#'+idDiv1).fadeIn(500);
        });
        $('#'+idDiv1).bind('mouseover',function(){
          clearTimeout(timeoutNavigationFade);
        });
        
        $('#'+idNavigation1+", #"+idDiv1).bind('mouseout',function(){
          timeoutNavigationFade=setTimeout(function(){$("#"+idDiv1).fadeOut(200);}, 200);
        });
  
  
      }
      catch(e){
        //console.log("ERROR: "+e);
      }
    });
  });

  $(document).ready(function(){
    $('ul.nav.navbar-nav.navbar-right1 li').each(function(){
      try{
        var idNavigation1 = $(this).attr('id');
        var idDiv1 = idNavigation1.toLowerCase();
        var timeoutNavigationFade;
        $('#'+idNavigation1).bind('mouseover',function(){
          clearTimeout(timeoutNavigationFade);
          $('#'+idDiv1).fadeIn(500);
        });
        $('#'+idDiv1).bind('mouseover',function(){
          clearTimeout(timeoutNavigationFade);
        });
        
        $('#'+idNavigation1+", #"+idDiv1).bind('mouseout',function(){
          timeoutNavigationFade=setTimeout(function(){$("#"+idDiv1).fadeOut(200);}, 200);
        });
  
  
      }
      catch(e){
        console.log("ERROR: "+e);
      }
    });
  });
</script>
<% if spree_current_user %>
<nav id= 'topmost-nav' class="navbar navbar-default" >
  <ul class="nav navbar-nav navbar-right ">   
     <li>
      <%= link_to "blog", '/bonheur/',class:"topbar"  %>
    </li> 

    <li>
      <%= link_to "help", '/contact-us/',class:"topbar"  %>
    </li>  

    
    <li id="Contact">
      <%= link_to "contact us", '/contact-us/',class:"topbar" %>
    </li>

    <li id="Myaccount">
      <%= link_to "my account", '/account/',class:"topbar"  %>
    </li>


    <li id="Cart">
      <%= link_to "cart", '/cart/',style:"padding-left:0px !important;padding-right:0px !important;" %>
    </li>

    <li style="position:relative;top:4px;margin-left:0px !important;">
      <i class="fa fa-shopping-cart"></i>
    </li>
    <% if  current_order %>
      <li style="position:relative;top:4px;margin-left:0px !important;">
      <%= fa_icon "bell", style: 'color:red' %>
      </li>
      <% @order = current_order %>
    <%end %>
  </ul>
</nav>

  
  <% else %>
  <nav id= 'topmost-nav' class="navbar navbar-default" >
  <ul class="nav navbar-nav navbar-right1 ">   
    <li>
      <%= link_to "blog", '/bonheur/',class:"topbar"  %>
    </li> 

    <li>
      <%= link_to "help", '/contact-us',class:"topbar"  %>
    </li>  

    
    <li id="Contact">
      <%= link_to "contact us", '/contact-us/',class:"topbar" %>
    </li>

    <li id="Login">
      <%= link_to "sign in/sign up", '#',"data-toggle"=>"modal", "data-target"=>"#myModal",class:"topbar" %>
    </li>
    <%= render 'spree/shared/sign_in_modal' %>
   
    <li id="Cart">
      <%= link_to "cart", '/cart/',style:"padding-left:0px !important;padding-right:0px !important;" %>
    </li>

    <li style="position:relative;top:4px;margin-left:0px !important;">
      <i class="fa fa-shopping-cart"></i>
    </li>
    <% if  current_order %>
      <li style="position:relative;top:4px;margin-left:0px !important;">
      <%= fa_icon "bell", style: 'color:red' %>
      </li>
      <% @order = current_order %>
    <%end %>
    </ul>
  </nav>
<% end %>



<div id="myaccount" class="arrow_box">
      <% if spree_current_user && spree_current_user.is_designer %>
      <li id="Logout" class="myaccountdiv" >
      <%= link_to 'Designer Dashboard', designer_dashboard_path %>
      </li>
      <% end %>
      <li id="Logout" class="myaccountdiv" >
        <%= link_to "Logout", '/logout/',:style=>"color:#6C6C6C"%>
      </li>
      <li id="Wishlist" class="myaccountdiv">
        <%= link_to "Wishlist", '/wishlists/',:style=>"color:#6C6C6C"%>
      </li>
      <!--<li id="Saved" class="myaccountdiv">
        <%= link_to "Saved Projects", '/mysaved-projects/',:style=>"color:#6C6C6C"%>
      </li>
      <li id="FavouriteDes" class="myaccountdiv">
        <%= link_to "Favourite Designers", '/myfavourite-designers/',:style=>"color:#6C6C6C"%>
      </li>
      <li id="Orders" class="myaccountdiv">
        <%= link_to "Orders", '/orders/',:style=>"color:#6C6C6C;"%>
      </li>-->
</div>

<!--<div id="login" class="uparrownewdesigner">
    <li>
      <%= link_to "designer sign up", new_designer_path,class:"topbar"  %>    
    </li>
</div>-->

<% if spree_current_user %>
  <div id="cart" class="uparrowdivcart">  
    <% if @order && @order.line_items.empty? %>
          <div data-hook="empty_cart" style="width:500px; height:200px;border:1px solid rgba(1,0,0,0.3);">
              <div>
                <h5 style="text-align:center;color:black;"><%= Spree.t(:your_cart_is_empty) %>
                </h5>
                <i class="fa fa-cart-plus fa-3x" style="color:rgba(1,0,0,0.3); margin-left:220px;">
                </i>
              </div>
              
              <br/>
              
              <p><%= link_to Spree.t(:continue_shopping), root_path, class: 'btn btn-default',style: "width:200px;height:30px; background:#87c9c2; color:white;margin-left:150px;" %>
              </p>
          </div>
    <% else %>
      <% if current_order %> 
          <%= form_for @order, url: update_cart_path, html: { id: 'update-cart' } do |order_form| %>
              <div class="table-responsive-cart">
              <div data-hook="cart_items">
                <%= render partial: 'spree/shared/form', locals: { order_form: order_form } %>
              </div>
              
              <div data-hook="cart_buttons">
                <div class="form-group">
                  <%= button_tag class: 'btn btn-default', id: 'update-button',style: "width:150px;height:30px; background:#87c9c2;color:white;"  do %>
                    <%= Spree.t(:update) %>
                  <% end %>
              
                  <%= button_tag class: 'btn btn-default', id: 'checkout-link', name: 'checkout',style: "width:150px; height:30px; background:#87c9c2; color:white;"  do %>
                  <%= Spree.t(:checkout) %>
                  <% end %>
                </div>
              </div>
              </div>
          <% end %>
      <% end %>
    <% end %>
  </div>
<%end %>

   


