<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script> 
  $(document).ready(function() {
  $('input:radio').click(function() {
   alert($("input[name=paper]:checked").val());
 });
</script>

<script type="text/javascript"> 

  (function($) {
  $.fn.imageSlider=function(options){
     var container=$(this);
     function deployCanvas(options,container){
        var auto_scroll=options.auto_scroll;
        var auto_scroll_speed=options.auto_scroll_speed;
        var images_path=options.images_path;
        var thumbs =options.thumbs;
        var stop_on_click=options.stop_on_click
        var stop_after=options.stop_after; 
        var canvas_height=options.canvas_height;
        var canvas_width=options.canvas_width;
        var complete_cycle_slide=options.complete_cycle_slide;
        var main_image_container=$(document.createElement('div'))
                      .addClass("main_image_container")
                      .append($(document.createElement('div')).addClass("main_image_scroller"))
                      .append($(document.createElement('div')).addClass("description_container"));
        var thumbs_list_container=$(document.createElement('div')).addClass("thumbs_list_container");
        
  
        container.append(main_image_container)
             .append(thumbs_list_container)
             .addClass("slider_container");
        
        
        //resize the canvas to the custom width/height
        container.find(".main_image_scroller")
          .css("height",canvas_height+"px")
          .css("width",canvas_width+"px")
        container.find(".thumbs_list_container").css("height",canvas_height+"px");
        
        var current_thumb=0;
        var current_cycle=1;
        var slide_interval=null;
        var images_number=thumbs.length;
        var thumbfrag=$();
        var mainfrag=$();
        for(var x=0;x<images_number;x++){
          var current_image=images_path+thumbs[x];
          thumbfrag=thumbfrag.add(new newThumb(current_image,x,container));
          mainfrag=mainfrag.add(new newMain(current_image,x,container))
        }
        container.find(".thumbs_list_container").append(thumbfrag);
        container.find(".main_image_scroller").append(mainfrag);
        var main_image_scroller=container.find(".main_image_scroller") //cache reference
        var description_container=container.find(".description_container") //cache reference
        var largeimages=main_image_scroller.find('div.main_image') //cache reference
        var thumbs=container.find(".thumbs_list_container").find("div") //cache ref to thumb divs
        var largeimageheight=largeimages.eq(0).outerHeight()
  
        if(thumbs.length==0)
          container.find(".thumbs_list_container").css('visibility','hidden');
          description_container.hide();
        
        function newThumb(src,no,container){
          
          return $(document.createElement('div'))
            .html($("<img src='"+encodeURI(src)+"' width=100 height=60>"))
                .addClass("thumb")
                .attr("src","'"+src+"'")
                .attr("id",'thumb_'+no)
                .prop("container",container)
                .mouseover(function(){
                  clearTimeout(slide_interval);
                  thumbs.removeClass('thumb_selected').eq(no).addClass('thumb_selected')
            main_image_scroller.stop().animate({top:'-'+(largeimageheight*no)},complete_cycle_slide);
                  
                  if(auto_scroll==true)
                    {
                current_thumb=no
                      current_thumb++;
                      if(current_thumb==images_number)
                        {
                          current_thumb=0;
                          current_cycle++;
                        }                               
                      if((current_cycle>stop_after)&&(stop_after!=0))
                        {
                          autoscroll=false;
                          return;
                        }
                      slide_interval=setTimeout(function(){
                        thumbs.eq(current_thumb).trigger("mouseover");
                      },auto_scroll_speed);
                    }
                  
                })
                .mouseup(function(){
                  if(stop_on_click==true)
                    auto_scroll=false;  
                }); 
        };
        function newMain(src,no,container){
          return $(document.createElement('div'))
            .append($('<div style="width:100%;height:100%;background:url('+encodeURI(src)+')  center center no-repeat;"></div>'))
                .addClass("main_image")
                .attr("src",src)
                .attr("id","main_"+no)
                .click(function(){
                })
                .mouseover(function(){
                })
                .mouseout(function(){
                })
        };  
        
        container.find(".thumbs_list_container").find("div").eq(0).trigger("mouseover");
     }
     
    var options = $.extend( {
        'auto_scroll':false,
        'auto_scroll_speed':2500,
        'images_path':'',//this is the path to the folder added in front of all the pages (if specified);
        'thumbs':[], //The names of the images you want in the slider each separated by a comma
        'stop_on_click':true,//set this to true if you want the aoutoscroll to stop once the user clicks on a thumbnail
            /*this is the number of cycles the autoscroll will run for; if autoscroll is set to false, this is ignored;
         *  if stop_on_click is set to true, this will be ignored after the user clicks a thumbnail
         *  if this is set to 0, the loop will run infinitely*/
      'stop_after':0,
      'complete_cycle_slide':300,//this determines the speed needed to cycle from first image to the last. Cycling from image 1 to image 2 is complete_cycle_slide/[number of images];
      //change these 2 values to set the canvas height and width; the thumbs area will be resized in height automatically, depending on the canvas height;
      'canvas_height':385,
      'canvas_width':410
      }, options);   
            
  
     return this.each(function(){
      var preloadimages=[]
      for (var i=0, c=options.thumbs.length; i<c; i++){
        preloadimages[i]=new Image()
        preloadimages[i].src=options.thumbs[i]
      } 
      new deployCanvas(options,container);
     });
    
  } 
    
    
  })(jQuery)
  
  
  //Initialization code:
  $(document).ready(function(){ // on document load    
      $("#thumbsliderdiv").imageSlider({ //initialize slider
        'thumbs': ["http://icons.iconarchive.com/icons/hopstarter/social-networking/256/Facebook-icon.png","http://icons.iconarchive.com/icons/graphics-vibe/hot-burning-social/256/facebook-icon.png","http://icons.iconarchive.com/icons/land-of-web/egg-social/256/facebook-icon.png","http://icons.iconarchive.com/icons/land-of-web/social-coffee/256/facebook-icon.png","http://icons.iconarchive.com/icons/dembsky/social-store/256/Facebook-shop-icon.png","http://icons.iconarchive.com/icons/graphics-vibe/neon-glow-social/256/facebook-icon.png"], // file names of images within slider. Default path should be changed inside thumbslide.js (near bottom)
        'auto_scroll':false,
        'auto_scroll_speed':4500,
        'stop_after': 2, //stop after x cycles? Set to 0 to disable.
        'canvas_width':700,
        'canvas_height':500 // <-- No comma after last option
        })
    });
  
</script>

<style type="text/css">
  .selectqnty select {
  width: 250px;
  padding: 5px;
  height:20px;
  font-size: 10px;
  line-height: 1;
  border: 1px solid black;
  border-radius: 0;
  }

  li
  {
  list-style-type: none;  
  }
</style>

<!-- Suite Itemscope start-->
<div itemscope itemtype="http://schema.org/IndividualProduct" itemdid="<%= @suite.id %>">
  <h5 itemprop="name"><%=@suite.name %></h5>
        <div class="col-md-12 suite-upper-cont" >
              <!-- Suite image container-->
              <div class="suite-img-cont">
                  <!-- Fetching images -->
                  <div id="image_plchldr"></div>
                  <div id="thumbsliderdiv"></div>
              </div>
            <!-- Suite building form-->
              <div class="suite-form-cont">
                <ul>
                  <li class="prop">
                    <div id="order-sample">
                      
                    </div>

                    <!--       
                    <div class="selectqnty" >
                    <span>Quantity:</span> 
                      <select id="first-choice">
                        
                        <option selected value="base">Please Select</option>
                        <option value="beverages">Beverages</option>
                        <option value="snacks">Snacks</option>
                      </select>
                    </div> -->
                  </li>
                  
                  <li class="prop">
                    <% if !@scat.nil? %>
                    <span style="float:left;">Color:</span>
                      <% @scat.each do |sc| %>
                      <div class="colorbox" style="background:<%= sc.code%>" class="radios">
                      </div>    
                      <% end -%>
                    <% end -%>        
                  </li>
                  <br/>
                  <br/>

                  <li class="prop">
                    <% if !@trm.nil? %>
                      <span style="float:left;">Trim:</span>
                      <form>
                      <% @trm.each do |sc| %>
                      <input type="radio" name="trim" value=" <%= sc.name%>">
                        <%= sc.name%><br/>
                      <% end -%>
                      </form>
                    <% end -%>
                  </li>
                  
                  <li class="prop">
                    <% if !@pap.nil? %>
                      <span style="float:left;">Paper:</span>
                      <form>
                      <% @pap.each do |sc| %>
                      <input type="radio" name="paper" value=" <%= sc.name%>">
                       <%= sc.name%><br/>
                      <% end -%>
                      </form>
                    <% end -%>
                  </li>
                  
                  <li class="prop">
                    <% if !@dim.nil? %>
                      <span style="float:left;">Dimension:</span>
                      
                      <% @dim.each do |sc| %>
                        <%= sc.width%>*<%= sc.height%>
                      <% end -%>
                    <% end -%>  
                  </li>
                  
                  <li class="prop">
                    <% if !@prds.nil? %>
                      <span style="float:left;">Productz:</span>
                      <%= form_for :order, url: populate_orders_path do |f| %> 
                        <% @prds.each do |p| %>
                          <% if !p.is_not_sample? %>
                            <%= render 'add_sample', prd: p%>
                          <% end %>
                        <% end %>
                        <%= submit_tag("Order Sample",:id => 'add-to-cart-button') %>
                      <% end %> 

                      <%= form_for :order, url: populate_orders_path do |f| %>
                        
                        <% @prds.each do |p| %>
                          <% if p.is_not_sample? %>
                            <%= render 'add_prod', prd: p %>
                          <% end %>
                          <%# p.variant_images.each do |img| %>
                            <%#= image_tag img.attachment.url %>
                          <%# end %>    
                        <%end%>
                        <%= image_submit_tag("buttonbuynow.png",:id => 'add-to-cart-button') %>
                      <%end %> 
                    <%end %> 
                  </li>        
                </ul>
                <%= render 'spree/suites/add_to_wishlist' %>      
              </div>      
      </div>  

      <div class="col-md-12 suite-middle-cont" >
        <div class="row"> 
          <div  class="col-md-6">
            <div class="descriptionbox" itemprop="description">
              <h1>Description:</h1>
              Created for you by Minted’s global community of designers, our invitation designs will set the perfect tone for your wedding day. With unique designs printed on luxe paper, all foil pressed wedding invitations are available with several matching accessories. If you have any questions or special requests for your invitations, please email us.
            </div>
          </div>

          <div id ="suitedescdiv" class="col-md-6" >
            <div class="descriptionbox">
              <b>Dimensions:</b><br/>
              5" x 7" Printing: flat Card Type: flat Tags:kraft, gold, foil pressed, gold foil, modern, festive<br/><br/>
              <b>Printing Time:</b><br/>
              Order today by midnight PST with FedEx Ground shipping and receive your order by Tuesday, February 24. See more delivery options.<br/><br/>
              <b>Customization options:</b><br/>
              This wedding invitation can also be used for a general party invitation or converted into an entire invitation suite. Please email us for more details.
            </div>
          </div>
        </div>
      </div>

      <!-- suite lower middle part-->
      <div class=" col-md-12 suite-lower-middle">
              <div class="suite-lower-left-cont"  >
                <div class="suite-lower-left-cont-1" >
                  <div class="row">
                    <% $i = 0 %>
                    <% $num = 3 %>
                    <%while $i < $num  do%>
                      <span>
                        <div class="more-prod-cont">more products</div>
                      </span>
                      <%$i +=1 %>
                    <% end%>
                  </div>
                </div>
              </div>
                
              <div class="suite-banner-area">
                <div style="padding:20px;background:rgba(1,0,0,0.05);">
                  <h4>Write a Review</h4>
                  <%= render 'spree/shared/reviews' %>
                </div>
              </div>
      </div> 
</div> 
<!-- itemscope end-->

<!--Fetching images of products
<script>
  $(document).ready(function(){
      $.ajax({
        url       :'/get_prd_images/<%= @suite.id %>',
        cache     : 'false',
        dataType  : 'json',
        success   : function(data){
          alert(data)
          for (var x = 0; x < data.length; x++) {
          content = data[x].Id;
          content += "<br>";
          content += data[x].Name;
          content += "<br>";
          $(content).appendTo("#prod-image-list");
               // updateListing(data[x]);
          }
        }
      });
  }); 
</script> -->



